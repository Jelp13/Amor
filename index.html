<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Carta - Para ti</title>

  <!-- Fuente suave -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Quicksand:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent:#e6b88f;
      --muted:#9fb0c8;
      --glass: rgba(255,255,255,0.06);
      --shadow: 0 10px 30px rgba(2,6,23,0.7);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Quicksand",system-ui,Segoe UI,Roboto,Arial;
      background-image:url(Castillo2.webp); 
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    background-attachment: fixed;
      color: #e6eef8;
      display:flex;
      align-items:center;
      justify-content:center; 
      padding:32px;
    }

    /* tarjeta */
    .card{
      width: min(880px, 96%);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
      backdrop-filter: blur(12px);
      border-radius:18px;
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      border: 1px solid rgba(255,255,255,0.1);
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:0;
      min-height: 520px;
    }

    .scene{
      padding:36px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:14px;
    }

    .title{
      font-family: "Playfair Display", serif;
      font-size:32px;
      margin:0;
      color:var(--accent);
      text-shadow: 0 6px 18px rgba(0,0,0,0.6);
    }

    .subtitle{
      color:var(--muted);
      margin-top:6px;
      font-size:14px;
    }

    .castle-wrap{
      display:flex;
      align-items:flex-end;
      justify-content:center;
    }

    .castle{
      width:280px;
      max-width:78%;
      filter: drop-shadow(0 20px 30px rgba(0,0,0,0.6));
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float{
      0%{transform: translateY(0px) rotate(-1deg)}
      50%{transform: translateY(-12px) rotate(1deg)}
      100%{transform: translateY(0px) rotate(-1deg)}
    }

    .panel{
      padding:34px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:18px;
    }

    .message{
      background: var(--glass);
      border-radius:12px;
      padding:18px;
      min-height:200px;
      color:#eaf6ff;
      line-height:1.4;
      font-size:16px;
      border: 1px solid rgba(255,255,255,0.05);
    }

    .message p{margin:0 0 8px 0}

    .reveal{
      display:flex;
      gap:12px;
      align-items:center;
    }

    .btn{
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border:1px solid rgba(255,255,255,0.1);
      padding:12px 16px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      transition: all .18s ease;
      box-shadow: 0 8px 20px rgba(2,6,23,0.5);
      color:#fff;
      backdrop-filter: blur(8px);
    }
    .btn:hover{
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(2,6,23,0.6);
    }
    .btn-primary{
      background: linear-gradient(180deg, #f7d9be, #e6b88f);
      color:#1a1420;
      border:none;
      box-shadow: 0 10px 26px rgba(230,184,143,0.3);
    }
    .btn-primary:hover{
      box-shadow: 0 15px 35px rgba(230,184,143,0.4);
    }

    .small{
      color:var(--muted);
      font-size:13px;
    }

    .overlay{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg, rgba(2,6,23,0.7), rgba(2,6,23,0.9));
      backdrop-filter: blur(5px);
      opacity:0;
      pointer-events:none;
      transition:opacity .3s ease;
      z-index:60;
    }
    .overlay.show{opacity:1; pointer-events:auto}
    .modal{
      width:min(720px,94%);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
      backdrop-filter: blur(15px);
      border-radius:16px;
      padding:28px;
      text-align:center;
      box-shadow: 0 20px 60px rgba(2,6,23,0.75);
      border:1px solid rgba(255,255,255,0.1);
    }

    .modal h2{
      margin:0 0 8px 0;
      font-family:"Playfair Display";
      font-size:26px;
      color:var(--accent);
    }
    .modal .ask{
      font-size:20px;
      margin:14px 0 18px 0;
      color:#eef8ff;
    }

    .heart{
      font-size:48px;
      animation: beat 1.1s ease-in-out infinite;
      display:inline-block;
    }
    @keyframes beat{
      0%{transform: scale(1)}
      50%{transform: scale(1.16)}
      100%{transform: scale(1)}
    }

    /* Controles de m√∫sica */
    .music-controls{
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 8px;
      z-index: 50;
    }

    .music-btn{
      background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 50%;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      color: #fff;
      font-size: 18px;
    }

    .music-btn:hover{
      transform: scale(1.1);
      background: linear-gradient(180deg, rgba(255,255,255,0.15), rgba(255,255,255,0.08));
    }

    .music-btn.playing{
      background: linear-gradient(180deg, #f7d9be, #e6b88f);
      color: #1a1420;
    }

    /* Indicador de carga de audio */
    .loading-audio{
      opacity: 0.6;
      animation: pulse 2s infinite;
    }

    @keyframes pulse{
      0%{opacity: 0.6}
      50%{opacity: 1}
      100%{opacity: 0.6}
    }

    @media (max-width:900px){
      .card{grid-template-columns: 1fr; min-height:700px}
      .castle{width:220px}
      .panel{order:2}
      .scene{order:1}
      .music-controls{
        top: 15px;
        right: 15px;
      }
      .music-btn{
        width: 40px;
        height: 40px;
        font-size: 16px;
      }
    }
  </style>
</head>
<body>

  <!-- Controles de m√∫sica -->
  <div class="music-controls">
    <button class="music-btn" id="playPauseBtn" title="Reproducir/Pausar m√∫sica">‚ñ∂Ô∏è</button>
    <button class="music-btn" id="volumeBtn" title="Silenciar/Activar sonido">üîä</button>
  </div>

  <!-- m√∫sica de fondo -->
  <audio id="bg-music" loop preload="auto">
    <source src="https://www.soundjay.com/misc/sounds-4/magic-wand-02.mp3" type="audio/mpeg">
    <source src="Howl's Moving Castle - Merry go round of Life cover by Grissini Project.mp3" type="audio/mpeg">
    <!-- URL de respaldo - m√∫sica instrumental suave -->
    <source src="https://archive.org/download/HowlsMovingCastleMainTheme/Howls%20Moving%20Castle%20-%20Main%20Theme.mp3" type="audio/mpeg">
  </audio>

  <div class="card">
    <section class="scene">
      <div>
        <h1 class="title">Para ti, mi princesa. Feliz d√≠a del amor y la amistad</h1>
        <p class="subtitle">Desde el castillo ambulante, con todo mi coraz√≥n.</p>
          <p>  1. "Saber que estar√≠as all√≠ me dio el coraje para presentarme. Me salvaste, Sophie".</p>
            <p>2.Ah√≠ est√°s, cari√±o. Lo siento, llego tarde. Te he estado buscando por todas partes".</p>
           <p> 3.Creo que deber√≠amos vivir felices para siempre". </p>
        
      </div>

      <div class="castle-wrap">
        <!-- SVG del castillo ambulante -->
        <svg class="castle" viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg">
          <!-- Cuerpo principal del castillo -->
          <g transform="translate(150,350)">
            <!-- Base -->
            <ellipse cx="0" cy="0" rx="80" ry="20" fill="#4a3728" opacity="0.7"/>
            
            <!-- Estructura principal -->
            <rect x="-60" y="-80" width="120" height="60" fill="#8b4513" rx="8"/>
            <rect x="-50" y="-120" width="100" height="40" fill="#a0522d" rx="6"/>
            
            <!-- Torres -->
            <rect x="-70" y="-140" width="20" height="60" fill="#654321" rx="4"/>
            <rect x="50" y="-130" width="25" height="50" fill="#654321" rx="4"/>
            <rect x="-10" y="-160" width="30" height="80" fill="#654321" rx="6"/>
            
            <!-- Techos -->
            <polygon points="-70,-140 -60,-170 -50,-140" fill="#8b0000"/>
            <polygon points="50,-130 62.5,-160 75,-130" fill="#8b0000"/>
            <polygon points="-10,-160 5,-190 20,-160" fill="#8b0000"/>
            
            <!-- Chimeneas -->
            <rect x="-5" y="-195" width="4" height="15" fill="#2f1b14"/>
            <rect x="5" y="-198" width="3" height="18" fill="#2f1b14"/>
            
            <!-- Humo -->
            <circle cx="-3" cy="-210" r="3" fill="#f0f0f0" opacity="0.7"/>
            <circle cx="6" cy="-215" r="2" fill="#f0f0f0" opacity="0.5"/>
            
            <!-- Ventanas -->
            <rect x="-40" y="-100" width="8" height="12" fill="#ffff99" rx="2"/>
            <rect x="-20" y="-105" width="6" height="10" fill="#ffff99" rx="1"/>
            <rect x="15" y="-95" width="7" height="11" fill="#ffff99" rx="2"/>
            <rect x="60" y="-115" width="5" height="8" fill="#ffff99" rx="1"/>
            
            <!-- Patas mec√°nicas -->
            <g transform="rotate(-10)">
              <rect x="-90" y="-20" width="8" height="40" fill="#4a4a4a" rx="4"/>
              <circle cx="-86" cy="25" r="12" fill="#2f2f2f"/>
            </g>
            <g transform="rotate(15)">
              <rect x="75" y="-15" width="8" height="35" fill="#4a4a4a" rx="4"/>
              <circle cx="79" cy="25" r="10" fill="#2f2f2f"/>
            </g>
            <g transform="rotate(-5)">
              <rect x="25" y="-10" width="6" height="30" fill="#4a4a4a" rx="3"/>
              <circle cx="28" cy="25" r="8" fill="#2f2f2f"/>
            </g>
            
            <!-- Detalles mec√°nicos -->
            <rect x="-30" y="-50" width="60" height="4" fill="#2f2f2f" rx="2"/>
            <circle cx="-45" cy="-48" r="3" fill="#4a4a4a"/>
            <circle cx="45" cy="-48" r="3" fill="#4a4a4a"/>
          </g>
        </svg>
      </div>

      <div style="display:flex;gap:12px;align-items:center;">
        <span class="small">Creado con amor üíñ</span>
        <div style="flex:1"></div>
        <span class="small" id="musicStatus">üéµ M√∫sica lista</span>
      </div>
    </section>

    <aside class="panel">
      <div>
        <div class="message" id="messageBox">
          <p>Hola Preciosa,</p>
          <p>Amor, s√© que te gusta El Castillo Ambulante y por eso quise hacerte esta p√°gina con esa tem√°tica, porque todo lo que te gusta me inspira a acercarme m√°s a ti.
            Quiero que sepas que estoy profundamente enamorado de ti, perdidamente enamorado. Ans√≠o verte, pero por mi falta de madurez y mi torpeza emocional te he hecho da√±o, un da√±o que nunca quise causarte.

            Te amo y estoy desesperado por ti: por un beso, por un abrazo, por tu cari√±o. Me he vuelto esclavo de tus besos, de tu cuerpo, de tu sonrisa, de tus ojos‚Ä¶ y, aunque suene loco, soy feliz siendo tuyo de esa manera.

            Quiero que sea para siempre: yo ser tuyo y t√∫ ser m√≠a. Te amo como no imaginas. Perd√≥name, mi amor. Estar lejos de ti me duele m√°s de lo que puedo expresar, pero s√© que son mis acciones las que nos trajeron aqu√≠.
            Aun as√≠, solo quiero que vuelvas a m√≠, porque yo jam√°s me ir√© de tu lado..</p>
          <p class="small">Quiero preguntarte algo linda.</p>
        </div>
      </div>

      <div>
        <div class="reveal">
          <button class="btn btn-primary" id="revealBtn">Mostrar la pregunta ‚ù§Ô∏è</button>
        </div>
      </div>
    </aside>
  </div>

  <!-- modal -->
<div id="overlay" class="overlay">
  <div class="modal">
    <h2>Queria saber si.... </h2>
    <div class="ask">
      <span class="heart"></span>
      <div>¬øTe gustar√≠a salir conmigo a comer un helado y luego ver si puedo acompa√±arte esta noche?</div>
    </div>
    <div style="margin-top: 20px; display:flex; gap:12px; justify-content:center;">
      <button class="btn btn-primary" onclick="document.getElementById('overlay').classList.remove('show')">
        Si me gustria
      </button>
      <button class="btn" onclick="alert('Entiendo, tomar√© el tiempo que necesites üíî'); document.getElementById('overlay').classList.remove('show')">
        Por el momento no
      </button>
    </div>
  </div>
</div>


  <script>
    const music = document.getElementById("bg-music");
    const playPauseBtn = document.getElementById("playPauseBtn");
    const volumeBtn = document.getElementById("volumeBtn");
    const musicStatus = document.getElementById("musicStatus");
    const overlay = document.getElementById("overlay");
    const revealBtn = document.getElementById("revealBtn");

    let isPlaying = false;
    let isMuted = false;

    // Inicializar m√∫sica
    music.volume = 0.3; // Volumen suave

    // Intentar reproducir autom√°ticamente
    function tryAutoplay() {
      music.play().then(() => {
        isPlaying = true;
        updatePlayButton();
        musicStatus.textContent = "üéµ Reproduciendo";
      }).catch(() => {
        musicStatus.textContent = "üéµ Click para reproducir";
      });
    }

    // Actualizar bot√≥n de play/pause
    function updatePlayButton() {
      playPauseBtn.textContent = isPlaying ? "‚è∏Ô∏è" : "‚ñ∂Ô∏è";
      playPauseBtn.classList.toggle("playing", isPlaying);
    }

    // Actualizar bot√≥n de volumen
    function updateVolumeButton() {
      volumeBtn.textContent = isMuted ? "üîá" : "üîä";
    }

    // Control de reproducci√≥n
    playPauseBtn.addEventListener("click", () => {
      if (isPlaying) {
        music.pause();
        isPlaying = false;
        musicStatus.textContent = "üéµ Pausado";
      } else {
        music.play().then(() => {
          isPlaying = true;
          musicStatus.textContent = "üéµ Reproduciendo";
        }).catch(() => {
          musicStatus.textContent = "üéµ Error al reproducir";
        });
      }
      updatePlayButton();
    });

    // Control de volumen
    volumeBtn.addEventListener("click", () => {
      isMuted = !isMuted;
      music.muted = isMuted;
      updateVolumeButton();
    });

    // Eventos de audio
    music.addEventListener("loadstart", () => {
      musicStatus.textContent = "üéµ Cargando...";
      musicStatus.classList.add("loading-audio");
    });

    music.addEventListener("canplay", () => {
      musicStatus.classList.remove("loading-audio");
      tryAutoplay();
    });

    music.addEventListener("error", () => {
      musicStatus.textContent = "üéµ Sin m√∫sica";
      musicStatus.classList.remove("loading-audio");
    });

    // Bot√≥n para mostrar modal
    revealBtn.addEventListener("click", () => {
      overlay.classList.add("show");
    });

    // Cerrar modal con Escape
    window.addEventListener("keydown", (e) => {
      if(e.key === "Escape"){
        overlay.classList.remove("show");
      }
    });

    // Intentar reproducci√≥n al hacer click en cualquier parte
    document.addEventListener("click", () => {
      if (!isPlaying) {
        tryAutoplay();
      }
    }, { once: true });
  </script>
</body>
</html>